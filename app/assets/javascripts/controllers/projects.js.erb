app.controller('TodoController', ['$scope', function ($scope) {

    $scope.projects = projects;

    $scope.editProjectTitle = function(project, event) {
      var titleBlock = angular.element(event.currentTarget)
                        .parent().parent().parent();
      projectTitle = titleBlock.find('h3').text();
      titleBlock
        .addClass('edit-mode')
        .find('input')
        .val(projectTitle)[0]
        .focus();
    };

    $scope.deleteProject = function(project) {
      if (confirm('Are you sure ?')) {
        projects.splice(project.id - 1, 1);
      }
    };

  $scope.submitProjectTitle = function(project, event) {
    var input = angular.element(event.currentTarget).find('input');
    var titleBlock = input.parent().parent();
    titleBlock.find('h3').text(input.val());
    input.val('');
    titleBlock.removeClass('edit-mode');
  };

}]);